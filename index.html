<!DOCTYPE html>
<html>
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.10/angular-ui-router.js"></script>
<script src="app.js"></script>

<body ng-app="Viewer">
  <ui-view></ui-view>
 <div class="container" >
    <h2>List of Components by Host</h2>
    <p>Description blah blah</p>            
    <table class="table">
      <thead>
        <tr  ng-controller="MainCtrl">
          <th ng-repeat="node in nodes">{{node}}</th>
        </tr>
      </thead>
      <tbody ng-controller="PostCtrl">
      <form ng-submit="addPost()">
        <input type="text" ng-model="title"></input>
        <br>
        <input type="text" ng-model="link"></input>
        <br>
        <button type="submit">Post</button>
      </form>
        <tr >
          <td ng-repeat="post in posts">  
                <span ng-click="incrementUpvotes(post)">^</span>
                {{post.title}}
                <span>
                  <a href="#/posts/{{$index}}">Detail</a>
                </span>

                - upvotes: {{post.upvotes}}
          </td>
        </tr>
        <tr>
          <td>Mary</td>
          <td>Moe</td>
          <td>mary@example.com</td>
        </tr>
        <tr>
          <td>July</td>
          <td>Dooley</td>
          <td>july@example.com</td>
        </tr>
      </tbody>
    </table>
  </div>

<script type="text/ng-template" id="/home.html">
  <div class="page-header">
    <h1>No Component Selected</h1>
  </div>
 
</script>

<script type="text/ng-template" id="/posts.html">
  <div class="page-header">
    <h3>
      <a ng-show="post.link" href="{{post.link}}">
        {{post.title}}
      </a>
      <span ng-hide="post.link">
        {{post.title}}
      </span>
    </h3>
  </div>

  <div ng-repeat="comment in post.comments | orderBy:'-upvotes'">
    <span class="glyphicon glyphicon-thumbs-up"
      ng-click="incrementUpvotes(comment)"></span>
    {{comment.upvotes}} - by {{comment.author}}
    <span style="font-size:20px; margin-left:10px;">
      {{comment.body}}
    </span>
  </div>


</script>

</body>

</html>